// Simple icon generation script using base64-encoded minimal PNGs
const fs = require('fs');
const path = require('path');

// Minimal 1x1 PNG (transparent) in base64
const createPNG = (size, color) => {
  // Create a simple colored square PNG using data URLs
  // This is a minimal valid PNG file structure
  const iconDir = path.join(__dirname, '..', 'public', 'icons');

  if (!fs.existsSync(iconDir)) {
    fs.mkdirSync(iconDir, { recursive: true });
  }

  // Create a minimal valid PNG (8x8 transparent pixel)
  const minimalPNG = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A,
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52,
    0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x08,
    0x08, 0x02, 0x00, 0x00, 0x00, 0x4B, 0x6D, 0x29,
    0xDC, 0x00, 0x00, 0x00, 0x01, 0x73, 0x52, 0x47,
    0x42, 0x00, 0xAE, 0xCE, 0x1C, 0xE9, 0x00, 0x00,
    0x00, 0x22, 0x49, 0x44, 0x41, 0x54, 0x18, 0x57,
    0x63, 0xF8, 0xCF, 0xC0, 0xC0, 0xC0, 0xF0, 0xBF,
    0x81, 0x81, 0x81, 0x19, 0x00, 0x00, 0x57, 0x9B,
    0x35, 0xF8, 0x02, 0x00, 0x00, 0x00, 0x00, 0x49,
    0x45, 0x4E, 0x44, 0xAE, 0x42, 0x60, 0x82
  ]);

  const filePath192 = path.join(iconDir, 'icon-192.png');
  const filePath512 = path.join(iconDir, 'icon-512.png');

  fs.writeFileSync(filePath192, minimalPNG);
  fs.writeFileSync(filePath512, minimalPNG);

  console.log('✓ Created icon-192.png');
  console.log('✓ Created icon-512.png');
};

createPNG();
